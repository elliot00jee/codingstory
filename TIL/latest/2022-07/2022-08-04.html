<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>If/else와 Enum :: mypage</title>
    <link rel="canonical" href="https://elliot00jee.github.io/mypage/TIL/latest/2022-07/2022-08-04.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
    <link rel="icon" href="../../../favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://elliot00jee.github.io/mypage">mypage</a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="TIL" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">TIL</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">2022-07</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="2022-07-03.html">2022-07-03</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="2022-07-19.html">2022-07-19</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="2022-07-27.html">2022-07-27</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="2022-08-04.html">2022-08-04</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">TIL</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../codingstory/latest/index.html">CodingStory</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../codingstory/latest/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../learningstory/latest/index.html">learningstory</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../learningstory/latest/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">TIL</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../codingstory/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">TIL</a></li>
    <li>2022-07</li>
    <li><a href="2022-08-04.html">2022-08-04</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/elliot00jee/TIL/edit/main/docs/modules/2022-07/pages/2022-08-04.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">If/else와 Enum</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>요즘 들어 개발 건이 참 많다. 메인 업무도 그렇고, 사이드 프로젝트도 그렇고. 일이 많으면 일이 많기 때문에 <span class="line-through">빡치</span>힘들기도 하지만, 이 때문에 소모된다라는 느낌보다는, 공부할 게 쌓여간다는 부담감이 더 크다. 물론 새로운 업무라고 할 수는 없지만 개발을 하다 보면 항상 새로운 상황을 마주치게 되는데, 한 줄 한 줄 코딩 할 때마다 공부해야될 걸 알려준다.</p>
</div>
<div class="paragraph">
<p>게임을 하다보면 항상 미친 <a href="https://namu.wiki/jump/k7PaSMTHVqcH70%2BPETpqMdND2iIgzEiGIs5w%2F1sBV0BANeR06qj17loRm4tcUmTp">고인물</a>들을 보게 되는데, 나도 저렇게 할 수 있을까 생각해보면 아닌 것 같다. 그 사람들은 보통 한 번 잡기도 어려운 보스를 수 백 번씩 해보면서, 모든 패턴을 익히는 건 물론이고, 아주 디테일하게 다른 것들을 발견해내기 위해 똑같은 걸 조금씩 바꿔서 시도해보는 것도 시간 낭비라고 생각하지 않는 것 같다. 개발 공부를 하다보면, 이렇게까지 해야되나 싶은 순간들이 있는데, 이런 사소함과 집요함이 모여 뭔가 이뤄낼 수 있을거라고 생각하면서 더 깊게 파보려고 한다.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_today_i_learned"><a class="anchor" href="#_today_i_learned"></a>Today I learned</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>enum</code> 은 뭔가요? 라고 물어본다면 뭐라고 해야될까 생각해보다 검색해보니 다음과 같이 설명하고 있었다.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Enum</dt>
<dd>
<p>An enum is a special "class" that represents a group of constants (unchangeable variables, like final variables).</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>그래, 상수의 그룹. 내가 얼마 전까지 <code>enum</code> 에 대해 갖고 있던 생각도 그랬다. 몇 년 전에 구축하던 프로젝트에서는 상수를 모두 <code>Constant</code> 라는 클래스에 몰아넣고, <code>public static final String</code> 으로 선언해서 사용했었다. 단순히 매직 넘버를 지우고, 상수를 한 군데서 관리하는다는 장점 외에는 아무 것도 없었다. 이 상수를 값으로 사용하는 변수들 역시 만능의 <code>String</code> 이었기 때문에, 미리 정해놓은 상수가 아니어도 모든 문자열을 받아들일 수 있었고 결국은 쫓아다니면서 값에 대한 유효성 체크를 해줘야 했다. 이와 다르게 <code>enum</code> 은 내부에 선언해놓은 상수 값만 받아들일 수 있다.</p>
</div>
<div class="paragraph">
<p>오늘 다시 한번 생각해보게 된 것은 <code>enum</code> 은 상수 그룹 그 이상의 의미를 갖고 있다는 것이다. <code>enum</code> 은 서로 간의 대체 가능한, 하지만 개별적인 특성을 가지고 있는 객체들을 그룹화해서 다형성을 구현할 수 있게 해준다. 상수라고 했듯이 불변이고, 상속이 불가능하기 때문에 추상클래스나 인터페이스처럼 막강하진 않지만.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void addUrl(String fileName, String type) {
    if (!isSupportedExtension(fileName, type)) {
        return;
    }
    ...
}

public boolean isSupportedExtension(String fileName, String type) {
    List&lt;String&gt; supportedExtensions;
    if ("image".equal(type)) {
        supportedExtensions = Arrays.asList("jpg", "jepg", "png");
    } else if ("video".equal(type)) {
        supportedExtensions = Arrays.asList("mp4", "wav");
    } else if ("audio".equal(type)) {
        supportedExtensions = Arrays.asList("mp4", "mp3");
    }
    return supportedExtensions.contains(getExtension(fileName));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>아무 생각 없이 키보드만 치면 이런 코드를 만들게 된다. 문득 깨닫고, 이런 코드를 양산할 바에야 그냥 유튜브나 보면서 쉬었다가 하는 게 더 낫다고 생각하고 손을 뗀다.</p>
</div>
<div class="paragraph">
<p>난 <code>if/else</code> 를 꼭 병적으로 피해야 된다고 생각하진 않지만, 확장 가능성이 1이라도 있다면 다시 고민해봐야 한다고 생각한다. 만약 지원 가능한 확장자가 추가되거나, 또 다른 type 리스트가 필요하게 된다면 저 <code>if/else</code> 는 시간이 갈수록 비대해질 것이고, 또 다른 기능이 필요하게 되면 저 <code>if/else</code> 한 보따리를 가지고 돌아 다녀야된다. 다형성이 필요하다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>지원 가능한 확장자를 알기 위해 사용되는 메시지(인터페이스)는 동일하지만 내부적으로는 다르게 구현될 수 있는 게 필요하고,</p>
</li>
<li>
<p>그 타입은 <code>image</code>, <code>video</code>, <code>audio</code> 로 한정하고 싶다.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example 1. ResourceType.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Getter
public enum ResourceType {
    IMAGE(Arrays.asList("jpg", "jpeg", "png")),
    VIDEO(Arrays.asList("mp4", "wav")),
    AUDIO(Arrays.asList("mp4", "mp3"));

    private final List&lt;String&gt; supportedExtensions;

    ResourceType(List&lt;String&gt; supportedExtensions) {
        this.supportedExtensions = supportedExtensions;
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void addUrl(String fileName, ResourceType type) {
    if (!isSupportedExtension(fileName, type)) {
        return;
    }
    ...
}

public boolean isSupportedExtension(String fileName, ResourceType type) {
    return type.getSupportedExtensions().contains(getExtension(fileName));
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>현재 소스에서는 <code>type</code> 이 어떤 값이 들어올지 알 수 없다. 이 값은 코드가 실행될 때 동적으로 결정된다. 이 때문에 추후에 타입이 추가되거나 지원 가능한 확장자가 변경되더라도 <code>ResourceType</code> 이라는 <code>enum</code> 만 수정함으로써 메인 코드는 안 건드려도 된다.</p>
</li>
<li>
<p>여기까지 리팩토링을 하고 보니 <code>isSupportedExtentions</code> 를 결정하는 것이 이 객체가 해야될 일이 맞는지에 대한 의문이 생겨서 내일 더 봐야될 것 같다.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_더_공부해_볼_것"><a class="anchor" href="#_더_공부해_볼_것"></a>더 공부해 볼 것</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>enum</code> 의 활용에 대해서 더 공부해보고 싶다. 어떤 경우에는 오히려 독이 되는지도 알고 싶다.</p>
</li>
<li>
<p><a href="https://medium.com/@roanmonteiro/clean-code-with-java-replace-the-logical-condition-using-enum-if-else-statements-898bd6a85327">Clean Code with Java: Replace the logical condition using ENUM(if / else statements)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_참고"><a class="anchor" href="#_참고"></a>참고</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://www.w3schools.com/java/java_enums.asp">Java Enums</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright © <a href="https://opendevise.com">OpenDevise Inc.</a> and individual contributors to <a href="https://antora.org">Antora</a>. Site deploys by <a href="https://netlify.com">Netlify</a>.</p>
  <p>Except where otherwise noted, docs.antora.org, Antora, and the Antora UI, are licensed under the <a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License Version 2.0</a> (MPL-2.0).</p>
  <p>AsciiDoc® is a trademark of the Eclipse Foundation, Inc.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
