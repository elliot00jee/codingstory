<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CheatSheet for CKA :: mypage</title>
    <link rel="canonical" href="https://elliot00jee.github.io/mypage/codingstory/latest/cka/cheat-sheet-for-cka.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
    <link rel="icon" href="../../../favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://elliot00jee.github.io/mypage">mypage</a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="codingstory" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">CodingStory</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">👋 Hi, Stranger</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Antora</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../documentation/get-started.html">Antora로 페이지 생성하기</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../documentation/publish-to-github-pages.html">Github Page에 발행하기</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">알고리즘</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">유니온 파인드</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../algorithms/p20040.html">사이클 게임</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../algorithms/p9372.html">상근이의 여행</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text">최소 신장 트리</span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">그리디</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../algorithms/p12979.html">기지국 설치</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">CKA</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="cheat-sheet-for-cka.html">CheatSheet for CKA</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">CodingStory</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">CodingStory</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../learningstory/latest/index.html">learningstory</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../learningstory/latest/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../TIL/latest/index.html">TIL</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../TIL/latest/index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">CodingStory</a></li>
    <li>CKA</li>
    <li><a href="cheat-sheet-for-cka.html">CheatSheet for CKA</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/elliot00jee/mypage/edit/main/codingstory/docs/modules/cka/pages/cheat-sheet-for-cka.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">CheatSheet for CKA</h1>
<div class="ulist">
<ul>
<li>
<p>Imperative command 를 활용하는 방법</p>
<div class="ulist">
<ul>
<li>
<p>익혀놓으면 Yaml 파일을 복사해서 쓰는 방식 보다 무조건 빠르다.</p>
</li>
<li>
<p>최대한 명령형 커맨드로 실행한 뒤, 지원되지 않는 부분은 yaml에서 수정한다.</p>
</li>
</ul>
</div>
</li>
<li>
<p>공통 부분</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[--dry-run=client -o yaml]
[-n,--namespace=&lt;namespace-name&gt;]
[--lables=&lt;key=value&gt;]<i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>label</code> 이 여러 개일 경우 <code>,</code> 로 구분</td>
</tr>
</table>
</div>
</li>
<li>
<p>자주 쓰는 리소스 축약어</p>
<div class="ulist">
<ul>
<li>
<p>Pod(po), Deployment(deploy), Service(svc), ReplicaSet(rs), Daemonsets(ds), StatefulSet(sts), ServiceAccount(sa), PersistentVolume(pv), PersistentVolumeClaim(pvc), Node(no), CertificateSigningRequest(csr), NetworkPolicy(netpol), StorageClass(sc)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Pod</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl run &lt;pod-name&gt; --image=&lt;image-name&gt;
    [--port=&lt;port&gt;]
    [--expose]<i class="conum" data-value="1"></i><b>(1)</b>
    [--env=&lt;key=value&gt;]<i class="conum" data-value="2"></i><b>(2)</b>
    [--command]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>해당 <code>Pod</code> 를 노출하는 같은 이름의 <code>ClusterIP</code> 타입 <code>Service</code> 를 생성함. <code>--port</code> 옵션 필수</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>env</code> 는 배열 형태(label` 과는 달리 <code>--env</code> 에 한 개씩 선언한다. ex) --env="DNS_DOMAIN=cluster")
--env="POD_NAMESPACE=default"</td>
</tr>
</table>
</div>
</li>
<li>
<p>Deployment</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create &lt;deploy-name&gt; --image=&lt;image-name&gt;
    [--replicas=&lt;number-of-replicas(1)&gt;]
    [--port=&lt;port&gt;]</code></pre>
</div>
</div>
</li>
<li>
<p>DaemonSet</p>
<div class="ulist">
<ul>
<li>
<p><code>create daemonset</code> 명령어는 없고, <code>deployment</code> 와 형태가 비슷하기 때문에 <code>create deployment</code> 로 <code>Yaml</code> 을 생성한다.</p>
</li>
<li>
<p>생성된 <code>Yaml</code> 에서 <code>replicas</code> 및 <code>strategy</code> 필드를 삭제한다.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Service</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl expose &lt;target-type&gt; &lt;target-name&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    [--name=&lt;service-name&gt;] <i class="conum" data-value="2"></i><b>(2)</b>
    [--port=&lt;port(80)&gt;]
    [--target-port=&lt;target-port or name&gt;]
    [--type=NodePort|ClusterIP(default)|LoadBalancer]
    [--protocol=TCP|UDP|SCTP]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>target-type</code> 은 <code>pod, service, replicationcontroller, deployment,
replicaset</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Default는 <code>target-name</code> 과 동일</td>
</tr>
</table>
</div>
</li>
<li>
<p>Ingress</p>
<div class="ulist">
<ul>
<li>
<p><code>pathType</code> 은 <code>Exact</code> 가 Default</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create ingress &lt;ingress-name&gt;
    --rule=&lt;host-url&gt;/&lt;path&gt;=&lt;service-name&gt;:&lt;port&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Namespace</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create namespace &lt;namespace-name&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>ConfigMap</p>
<div class="ulist">
<ul>
<li>
<p><code>--from</code> 옵션들은 모두 배열 형태</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create configmap &lt;configmap-name&gt;
    [--from-file=&lt;file-path&gt;]
    [--from-literal=&lt;key=value&gt;]</code></pre>
</div>
</div>
</li>
<li>
<p>Secret - Docker registry 인증</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create secret docker-registry &lt;secret-name&gt;
    --docker-username=&lt;docker-username&gt;
    --docker-password=&lt;docker-password&gt;
    --docker-server=&lt;docker-registy-server&gt;

kubectl create secret docker-registry &lt;secret-name&gt;
    --from-file=&lt;docker-config-file-path&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Secret - 일반적인 키</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create secret generic &lt;secret-name&gt;
    [--from-file=&lt;file-path&gt;]
    [--from-literal=&lt;key=value&gt;]</code></pre>
</div>
</div>
</li>
<li>
<p>ServiceAccount</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create serviceaccount &lt;serviceaccount-name&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Role/ClusterRole</p>
<div class="ulist">
<ul>
<li>
<p><code>--verb</code>, <code>--resource</code> 는 배열 형태</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create role|clusterrole &lt;role-name&gt;
    --verb=create|get|delete|list|watch|'*'(all)
    --resource=&lt;resource-type&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>RoleBinding</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create rolebinding &lt;rolebinding-name&gt;
    --role=&lt;role-name&gt; or --clusterrole=&lt;cluster-role-name&gt;
    [--serviceaccount=&lt;namespace:serviceaccount-name&gt;]
    [--user=&lt;user-name&gt;]</code></pre>
</div>
</div>
</li>
<li>
<p>ClusterRoleBinding</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl create clusterrolebinding &lt;clusterrolebinding-name&gt;
    --clusterrole=&lt;cluster-role-name&gt;
    [--serviceaccount=&lt;namespace:serviceaccount-name&gt;]
    [--user=&lt;user-name&gt;]</code></pre>
</div>
</div>
</li>
<li>
<p>User 또는 ServiceAccount의 권한 확인</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">kubectl auth can-i &lt;verb&gt; &lt;resource&gt;
    --as=&lt;system:serviceaccount:&lt;namespace&gt;:&lt;serviceaccount-name&gt;&gt; or &lt;username&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright © <a href="https://opendevise.com">OpenDevise Inc.</a> and individual contributors to <a href="https://antora.org">Antora</a>. Site deploys by <a href="https://netlify.com">Netlify</a>.</p>
  <p>Except where otherwise noted, docs.antora.org, Antora, and the Antora UI, are licensed under the <a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License Version 2.0</a> (MPL-2.0).</p>
  <p>AsciiDoc® is a trademark of the Eclipse Foundation, Inc.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
